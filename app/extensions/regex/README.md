# 正则表达式扩展功能

## 功能介绍

正则表达式扩展功能允许用户自动检测文本中的特定模式并进行操作（替换）。这是一个强大的工具，可用于处理聊天消息和提示词。

## 主要功能

- **正则表达式脚本管理**：创建、编辑、导入、导出正则表达式脚本
- **文本处理**：对聊天消息和提示词应用正则表达式处理
- **实时测试**：在编辑器中实时测试正则表达式效果
- **灵活配置**：提供丰富的配置选项，满足不同需求

## 应用场景

正则表达式可应用于以下场景：

1. **聊天消息处理**：
   - 过滤敏感内容或不必要的格式标记
   - 修改文本格式和样式
   - 替换特定单词或短语
   - 提取或处理特定结构的信息

2. **提示词处理**：
   - 优化提示词格式
   - 移除不必要的内容
   - 提取关键信息
   - 添加特殊标记或格式

## 脚本参数说明

每个正则表达式脚本包含以下参数：

- **脚本名称**：用于标识脚本的名称
- **查找正则表达式**：要匹配的正则表达式模式
- **替换为**：匹配内容将被替换为此文本
- **裁剪字符串**：在应用替换前从匹配结果中移除的字符串
- **应用位置**：指定脚本应用的位置（用户输入、AI回复、命令、提示词）
- **深度设置**：控制脚本应用于聊天历史的哪些消息
- **其他选项**：
  - 禁用：临时禁用脚本而不删除
  - 仅显示效果：只影响显示，不修改原始数据
  - 仅提示词效果：只影响提示词，不修改原始数据
  - 编辑时运行：在编辑消息时应用脚本
  - 正则表达式中的宏：控制正则表达式中的宏替换方式

## 使用方法

1. 在扩展页面选择"正则表达式"功能
2. 点击"新建脚本"创建新的正则表达式脚本
3. 在编辑器中设置脚本参数并保存
4. 正则表达式将自动应用于指定位置的文本

## 常用正则表达式示例

以下是一些常用的正则表达式示例：

1. **删除HTML标签**：
   ```
   /<[^>]+>/g
   ```

2. **提取引号内容**：
   ```
   /"([^"]*)"/g
   ```

3. **匹配中文字符**：
   ```
   /[\u4e00-\u9fa5]/g
   ```

4. **删除多余空白**：
   ```
   /\s+/g
   ```

## 注意事项

- 正则表达式功能强大但也可能导致意外结果，请先测试后使用
- 复杂的正则表达式可能会影响性能，请适当使用
- 备份重要的脚本以防丢失
- 在测试模式下验证效果，确保符合预期 