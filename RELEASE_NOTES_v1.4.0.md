# 🎨 AI角色扮演平台 v1.4.0 更新公告

**发布日期：2025年8月15日**

## 🌟 重磅功能：自定义聊天背景

我们很高兴地宣布 v1.4.0 版本正式发布！这个版本带来了期待已久的**自定义聊天背景功能**，让你的聊天体验更加个性化和沉浸式。

---

## 🎨 全新自定义聊天背景功能

### ✨ 核心特性

#### 📱 手机壁纸式的调整体验
- **自由拖拽**：就像设置手机壁纸一样，直接拖拽图片调整位置
- **精确缩放**：支持 0.1x 到 3x 的缩放范围，滑块+数值输入双重控制
- **任意旋转**：0-360° 自由旋转，打造独特的视觉效果
- **实时预览**：所有调整立即在大尺寸预览框中生效

#### 🔧 智能背景尺寸模式
- **覆盖 (Cover)**：保持比例填满容器，适合大部分场景
- **包含 (Contain)**：完整显示图片，不会被裁剪
- **拉伸 (Stretch)**：强制填满容器，适合特殊需求
- **自动 (Auto)**：按图片原始尺寸显示
- **自定义 (Custom)**：完全手动控制，支持所有调整选项

#### 🎯 智能模式切换
- **无缝体验**：在任何标准模式下都可以进行微调
- **自动切换**：调整参数时自动切换到自定义模式
- **快速重置**：一键回到标准覆盖模式

#### 🌈 丰富的预设选项
- **6种精美渐变**：蓝色、紫色、橙色、绿色、夜空、日落渐变
- **6种经典纯色**：深色、浅灰、深蓝、深绿、深紫、暖白
- **自定义颜色**：颜色选择器 + 十六进制输入

#### 🎛️ 专业视觉效果
- **透明度调节**：0-100% 精确控制
- **模糊效果**：0-20px 模糊程度调节
- **遮罩层**：可添加半透明遮罩提升文字可读性
- **遮罩自定义**：自定义遮罩颜色和透明度

---

## 🛠️ 技术改进

### 🔄 智能数据库迁移系统
- **自动备份**：升级前自动备份所有用户数据
- **智能恢复**：升级后自动恢复对话、角色、设置等数据
- **无感知升级**：用户无需手动清空数据库
- **多层保护**：多种错误处理策略确保数据安全

### 📊 数据保护机制
- **渐进式恢复**：逐项恢复数据，处理冲突情况
- **详细日志**：完整的迁移过程记录
- **错误降级**：智能迁移失败时的备选方案

---

## 🎯 使用指南

### 如何设置自定义背景

1. **进入设置**
   - 导航到 `设置` → `外观设置`
   - 找到 `聊天背景设置` 部分

2. **选择背景类型**
   - **图片背景**：点击"选择图片"上传自定义图片
   - **渐变背景**：从6种预设渐变中选择
   - **纯色背景**：选择预设颜色或自定义颜色

3. **调整图片（图片背景）**
   - **选择模式**：从下拉菜单选择合适的尺寸模式
   - **拖拽调整**：直接在预览框中拖拽图片
   - **精确控制**：使用滑块或输入框调整缩放、旋转、位置
   - **自动切换**：在标准模式下调整会自动切换到自定义模式

4. **应用效果**
   - **透明度**：调整背景的透明度
   - **模糊效果**：添加模糊效果
   - **遮罩层**：添加遮罩提升文字可读性

5. **保存设置**
   - 点击"保存设置"应用到聊天界面

### 推荐使用场景

- **沉浸式角色扮演**：为不同角色设置对应的背景氛围
- **个性化定制**：使用喜爱的图片作为聊天背景
- **视觉舒适度**：通过调整透明度和模糊度优化阅读体验
- **主题搭配**：配合应用主题创造统一的视觉风格

---

## 🔧 其他改进

### 代码优化
- 移除了冗余的测试组件
- 清理了不必要的调试功能
- 优化了数据库操作性能

### 用户体验
- 响应式设计适配不同屏幕尺寸
- 改进了错误提示和用户反馈
- 优化了设置界面的布局和交互

---

## 📱 兼容性

- **浏览器支持**：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **移动设备**：完全支持触摸操作和响应式布局
- **数据迁移**：自动兼容所有旧版本数据

---

## 🚀 下一步计划

- 更多预设背景选项
- 背景动画效果
- 背景分享功能
- 更多个性化定制选项

---

## 💬 反馈与支持

如果你在使用过程中遇到任何问题或有改进建议，欢迎通过以下方式联系我们：

- 在应用内提交反馈
- 查看控制台日志获取技术信息
- 关注后续版本更新

感谢你的使用和支持！🎉

---

**AI角色扮演平台开发团队**  
*2025年8月15日*
